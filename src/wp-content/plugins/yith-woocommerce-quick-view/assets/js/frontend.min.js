jQuery(document).ready(function(i){"use strict";if("undefined"!=typeof yith_qv){var t=i(document).find("#yith-quick-view-modal"),n=t.find(".yith-quick-view-overlay"),e=t.find("#yith-quick-view-content"),o=t.find("#yith-quick-view-close"),c=t.find(".yith-wcqv-wrapper"),a=c.width(),r=c.height(),l=function(){var t=i(window).width(),n=i(window).height(),e=t-60>a?a:t-60,o=n-120>r?r:n-120;c.css({left:t/2-e/2,top:n/2-o/2,width:e+"px",height:o+"px"})};i.fn.yith_quick_view=function(){i(document).off("click",".yith-wcqv-button").on("click",".yith-wcqv-button",function(n){n.preventDefault();var e=i(this),o=e.data("product_id"),c=!1;void 0!==yith_qv.loader&&(c=!0,e.block({message:null,overlayCSS:{background:"#fff url("+yith_qv.loader+") no-repeat center",opacity:.5,cursor:"none"}}),t.hasClass("loading")||t.addClass("loading"),i(document).trigger("qv_loading")),u(e,o,c)})};var d,u=function(n,o,c){i.ajax({url:yith_qv.ajaxurl,data:{action:"yith_load_product_quick_view",product_id:o,lang:yith_qv.lang,context:"frontend"},dataType:"json",type:"POST",success:function(o){e.html(o.html);var a=e.find(".variations_form");a.each(function(){i(this).wc_variation_form(),void 0!==i.fn.yith_wccl?i(this).yith_wccl():void 0!==i.yith_wccl&&o.prod_attr&&i.yith_wccl(o.prod_attr)}),a.trigger("check_variations"),a.trigger("reset_image"),void 0!==i.fn.wc_product_gallery&&e.find(".woocommerce-product-gallery").each(function(){i(this).wc_product_gallery()}),!t.hasClass("open")&&(t.removeClass("loading").addClass("open"),c&&n.unblock()),i(document).trigger("qv_loader_stop")}})};n.on("click",function(i){d()}),i(document).keyup(function(i){27===i.keyCode&&d()}),o.on("click",function(i){i.preventDefault(),d()}),d=function(){t.removeClass("open").removeClass("loading"),e.html("")},l(),i(window).on("resize",l),i.fn.yith_quick_view(),i(document).on("yith_infs_adding_elem yith-wcan-ajax-filtered",function(){i.fn.yith_quick_view()})}});